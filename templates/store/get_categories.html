{% extends '../market/base.html' %}
{% load static %}
{% load menu_tags %}

{% block link %}
    <link rel="stylesheet" href="{% static 'market/store/css/styles-home.css' %}">
  
    <title>{{category}}</title>
{% endblock %}

{% block list %}
<div class="flex-shrink-0 p-3 " style="width: 220px;">
  <a href="/" class="d-flex align-items-center pb-3 mb-3 link-dark text-decoration-none border-bottom">
    <svg class="bi me-2" width="30" height="24"><use xlink:href="#bootstrap"/></svg>
    <span class="fs-5 text-white  fw-semibold">{{category|title}}</span>
  </a>
  <ul class="list-unstyled ps-0 main_list_characteristic " >
    <li class="mb-1">
      <button class="btn btn-toggle align-items-center text-white rounded collapsed" data-bs-toggle="collapse" data-bs-target="#home-collapse" aria-expanded="true">
        > diagonal screen
      </button>
      <div class="collapse " id="home-collapse">
        <ul class="btn-toggle-nav  text-white fw-normal pb-1 small text-black" type=none>
          {% get_characteristic_query_category query=characteristic_queryset word="diagonal_screen" %}
        </ul>
      </div>
    </li>
    <li class="mb-1">
      <button class="btn btn-toggle  text-white align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#home-collapse" aria-expanded="false">
       > screen type
      </button>
      <div class="collapse" id="home-collapse">
        <ul class="btn-toggle-nav text-white  fw-normal pb-1 small" type=none>
          {% get_characteristic_query_category query=characteristic_queryset word="screen_type" %}
        </ul>
      </div>
    </li>
    <li class="mb-1">
      <button class="btn btn-toggle text-white align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#home-collapse" aria-expanded="false">
       > screen frequancy
      </button>
      <div class="collapse" id="home-collapse">
        <ul class="btn-toggle-nav text-white  fw-normal pb-1 small" type=none>
          {% get_characteristic_query_category query=characteristic_queryset word="screen_frequency" %}
        </ul>
      </div>
    </li>
    <li class="mb-1">
      <button class="btn btn-toggle text-white align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#dashboard-collapse" aria-expanded="false">
       > processor name
      </button>
      <div class="collapse" id="dashboard-collapse">
        <ul class="btn-toggle-nav text-white  fw-normal pb-1 small"type=none>
          {% get_characteristic_query_category query=characteristic_queryset word="processor_name" %}
        </ul>
      </div>
    </li>
    <li class="mb-1">
      <button class="btn btn-toggle text-white align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#dashboard-collapse" aria-expanded="false">
       > operation system
      </button>
      <div class="collapse" id="dashboard-collapse">
        <ul class="btn-toggle-nav text-white  fw-normal pb-1 small"type=none>
          {% get_characteristic_query_category query=characteristic_queryset word="operation_system" %}
        </ul>
      </div>
    </li>
    <!-- <li class="border-top my-3"></li> -->
    <li class="mb-1">
      <button class="btn btn-toggle text-white align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#memory-collapse" aria-expanded="false">
       > memory capacity
      </button>
      <div class="collapse" id="memory-collapse">
        <ul class="btn-toggle-nav  fw-normal pb-1 small"type=none>
          {% get_characteristic_query_category query=characteristic_queryset word="memory_capacity" %}
        </ul>
      </div>
    </li>
    <li class="mb-1">
      <button class="btn btn-toggle text-white align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#memory-collapse" aria-expanded="false">
       > memory slots
      </button>
      <div class="collapse" id="memory-collapse">
        <ul class="btn-toggle-nav  fw-normal pb-1 small"type=none>
          {% get_characteristic_query_category query=characteristic_queryset word="memory_slots" %}
        </ul>
      </div>
    </li>
    <li class="mb-1">
      <button class="btn btn-toggle text-white align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#memory-collapse" aria-expanded="false">
       > memory type
      </button>
      <div class="collapse" id="memory-collapse">
        <ul class="btn-toggle-nav  fw-normal pb-1 small"type=none>
          {% get_characteristic_query_category query=characteristic_queryset word="memory_type" %}
        </ul>
      </div>
    </li>
    <li class="mb-1">
      <button class="btn btn-toggle text-white align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#data_storage-collapse" aria-expanded="false">
       > data storage
      </button>
      <div class="collapse" id="data_storage-collapse">
        <ul class="btn-toggle-nav  fw-normal pb-1 small"type=none>
          {% get_characteristic_query_category query=characteristic_queryset word="data_storage" %}
        </ul>
      </div>
    </li>
    <li class="mb-1">
      <button class="btn btn-toggle text-white align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#video_card-collapse" aria-expanded="false">
       > video card
      </button>
      <div class="collapse" id="video_card-collapse">
        <ul class="btn-toggle-nav  fw-normal pb-1 small"type=none>
          {% get_characteristic_query_category query=characteristic_queryset word="video_card" %}
        </ul>
      </div>
    </li>
    <li class="mb-1">
      <button class="btn btn-toggle text-white align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#video_card-collapse" aria-expanded="false">
       > video card memory
      </button>
      <div class="collapse" id="video_card-collapse">
        <ul class="btn-toggle-nav  fw-normal pb-1 small"type=none>
          {% get_characteristic_query_category query=characteristic_queryset word="video_card_memory" %}
        </ul>
      </div>
    </li>
  </ul>
</div>
{% endblock %}


{% block header_menu_history %}

<div class="hisory_links">
	<a class="hisory_links_elem" href="{% url 'home' %}">Home</a>	 / 
	<span class="hisory_links_elem span_link">{{category}}</span>
</div>
{% endblock %}

{% block main-content %}	

<div class="card-column">
    {% for product  in products %}
    <div class="row">
        <div class="example-1 card">
        <div class="wrapper">
            <a href="{% url 'read_more_about_all' slug_id=product.slug %}"><img src="{{product.photo.url}}" width="370px" alt=""></a>
            <div class="data">
            <div class="content">
                
                <h1 class="title"><a href="{% url 'read_more_about_all' slug_id=product.slug %}">{{product.name}} </a></h1>
                <p class="text">{{product.short_description}}</p>
                
                <div class=" d-flex justify-content-end aditional_product_like" style=" margin-top: -30px;">
                    {% if not product_likes|get_item:product %}
                        <a href="{% url 'like_product' post_id=product.slug product_id='home' %}" style="color:#FF0000; margin-right: 7px;" id="likebtn{{ product.id }}"> 
                          <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor"    class="bi bi-heart" viewBox="0 0 16 16">
                              <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                          </svg> 
                        </a>
                        <span class="ml-3 product_like_count" style="color: red;">{{product.likes.count}}</span>
                    {% else %}
                        <a href="{% url 'like_product' post_id=product.slug product_id='home' %}" style="color: red; margin-right: 7px;" id="likebtn{{ product.id }}">    
                          <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor"    class="bi bi-heart-fill" viewBox="0 0 16 16">
                              <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
                          </svg>
                         </a>
                        <span class="ml-5 product_like_count" style="color: red;"> {{product.likes.count}}</span>
                    {% endif %}
                  </div> 

                <div class="price-card">
                    <a src="" class="btn btn-success product-price">{{product.price}}грн</a>
                    <a  class=" btn menu-button"  href="{% url 'add_to_cart' product_slug=product.slug %}"> add to cart</a>
                </div>	
            </div>
            
            </div>
        </div>
        </div>
    </div>
    {% endfor %}
</div>    
{% endblock %}


